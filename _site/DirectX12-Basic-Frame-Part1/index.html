<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>DirectX12 Basic Frame Work part I &#8211; Silver Gamer</title> <meta name="description" content="That which does not kill us makes us stronger."> <meta name="keywords" content="Render, DirectX12, Graphics"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://github.com/OneSilverBullet/SilverGamer.GitHub.io/blob/gh-pages/_img/blogHead/directX12partI.jpg"> <meta name="twitter:title" content="DirectX12 Basic Frame Work part I"> <meta name="twitter:description" content="The first step of the modern graphic API."> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="DirectX12 Basic Frame Work part I"> <meta property="og:description" content="The first step of the modern graphic API."> <meta property="og:url" content="http://127.0.0.1:4000//DirectX12-Basic-Frame-Part1/"> <meta property="og:site_name" content="Silver Gamer"> <meta property="og:image" content="http://127.0.0.1:4000//assets/img/logo.png"> <link rel="canonical" href="http://127.0.0.1:4000//DirectX12-Basic-Frame-Part1/"> <link href="http://127.0.0.1:4000//feed.xml" type="application/atom+xml" rel="alternate" title="Silver Gamer Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://127.0.0.1:4000//assets/css/main.css"> <!-- JS --> <script src="http://127.0.0.1:4000//assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://127.0.0.1:4000//favicon.png" /> <link rel="shortcut icon" href="http://127.0.0.1:4000//favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(http://127.0.0.1:4000//assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> <style type="text/css">.feature {background-image:url(https://github.com/OneSilverBullet/SilverGamer.GitHub.io/blob/gh-pages/_img/blogHead/directX12partI.jpg);}</style> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://127.0.0.1:4000//">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://127.0.0.1:4000//assets/img/logo.png" alt="Silver Gamer photo" class="author-photo"> <h4>Silver Gamer</h4> <p>That which does not kill us makes us stronger.</p> </li> <li><a href="http://127.0.0.1:4000//about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="http://github.com/OneSilverBullet?tab=repositories" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://127.0.0.1:4000//posts/">All Posts</a></li> <li><a href="http://127.0.0.1:4000//tags/">All Tags</a></li> </ul> </li> <li><a href="http://127.0.0.1:4000//projects/" >Projects</a></li> <li><a href="http://127.0.0.1:4000//blog/" >Blog</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title feature "> <h1>DirectX12 Basic Frame Work part I</h1> <h4>12 Jan 2022</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~3 minutes </p><!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://127.0.0.1:4000//blog/"> <i class="fa fa-chevron-left"></i> </a> </div> <h2 id="overview">Overview</h2> <ul> <li>Initialize window.</li> <li>Initialize the graphics.</li> <li>Window On Resize.</li> <li>Message Process.</li> </ul> <h2 id="initialize-window">Initialize Window</h2> <p>The stage of the construction of the window exe program.</p> <ul> <li>Regist WNDCLASS</li> </ul> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="n">WNDCLASS</span> <span class="n">wc</span><span class="p">;</span>
	<span class="n">wc</span><span class="p">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">CS_HREDRAW</span> <span class="o">|</span> <span class="n">CS_VREDRAW</span><span class="p">;</span>
	<span class="n">wc</span><span class="p">.</span><span class="n">lpfnWndProc</span> <span class="o">=</span> <span class="n">MainWndProc</span><span class="p">;</span>
	<span class="n">wc</span><span class="p">.</span><span class="n">cbClsExtra</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">wc</span><span class="p">.</span><span class="n">cbWndExtra</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">wc</span><span class="p">.</span><span class="n">hInstance</span> <span class="o">=</span> <span class="n">m_appInstance</span><span class="p">;</span>
	<span class="n">wc</span><span class="p">.</span><span class="n">hIcon</span> <span class="o">=</span> <span class="n">LoadIcon</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">IDI_APPLICATION</span><span class="p">);</span>
	<span class="n">wc</span><span class="p">.</span><span class="n">hCursor</span> <span class="o">=</span> <span class="n">LoadCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">IDC_ARROW</span><span class="p">);</span>
	<span class="n">wc</span><span class="p">.</span><span class="n">hbrBackground</span> <span class="o">=</span> <span class="p">(</span><span class="n">HBRUSH</span><span class="p">)</span><span class="n">GetStockObject</span><span class="p">(</span><span class="n">NULL_BRUSH</span><span class="p">);</span>
	<span class="n">wc</span><span class="p">.</span><span class="n">lpszMenuName</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">wc</span><span class="p">.</span><span class="n">lpszClassName</span> <span class="o">=</span> <span class="s">L"SilverGamer"</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">RegisterClass</span><span class="p">(</span><span class="o">&amp;</span><span class="n">wc</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="n">MessageBox</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">L"RegisterClass Failed."</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span></code></pre></figure> <ul> <li>Regulate the size of window.</li> </ul> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp">	<span class="n">RECT</span> <span class="n">R</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">m_appConfig</span><span class="p">.</span><span class="n">GetWidth</span><span class="p">(),</span> <span class="n">m_appConfig</span><span class="p">.</span><span class="n">GetHeight</span><span class="p">()</span> <span class="p">};</span>
	<span class="n">AdjustWindowRect</span><span class="p">(</span><span class="o">&amp;</span><span class="n">R</span><span class="p">,</span> <span class="n">WS_OVERLAPPEDWINDOW</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span></code></pre></figure> <ul> <li>Create Window</li> </ul> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp">	<span class="n">m_mainWnd</span> <span class="o">=</span> <span class="n">CreateWindow</span><span class="p">(</span><span class="s">L"SilverGamer"</span><span class="p">,</span> <span class="n">m_appConfig</span><span class="p">.</span><span class="n">GetMainWndCaption</span><span class="p">().</span><span class="n">c_str</span><span class="p">(),</span>
		<span class="n">WS_OVERLAPPEDWINDOW</span><span class="p">,</span> <span class="n">CW_USEDEFAULT</span><span class="p">,</span> <span class="n">CW_USEDEFAULT</span><span class="p">,</span>
		<span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">m_appInstance</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span></code></pre></figure> <ul> <li>Update and Show the window</li> </ul> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp">	<span class="n">ShowWindow</span><span class="p">(</span><span class="n">m_mainWnd</span><span class="p">,</span> <span class="n">SW_SHOW</span><span class="p">);</span>
	<span class="n">UpdateWindow</span><span class="p">(</span><span class="n">m_mainWnd</span><span class="p">);</span></code></pre></figure> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"> <span class="n">fragColor</span><span class="p">.</span><span class="n">rgb</span> <span class="o">=</span>
    <span class="n">mix</span>
      <span class="p">(</span> <span class="n">fragColor</span><span class="p">.</span><span class="n">rgb</span>
      <span class="p">,</span> <span class="n">cmx</span><span class="p">.</span><span class="n">rgb</span>
      <span class="p">,</span> <span class="n">smoothstep</span><span class="p">(</span><span class="n">minThreshold</span><span class="p">,</span> <span class="n">maxThreshold</span><span class="p">,</span> <span class="n">mx</span><span class="p">)</span>
      <span class="p">);</span></code></pre></figure> <figure> <a href="https://raw.githubusercontent.com/OneSilverBullet/SilverGamer.GitHub.io/gh-pages/_img/DirectXP1Fig/DataStructure.png"><img src="https://raw.githubusercontent.com/OneSilverBullet/SilverGamer.GitHub.io/gh-pages/_img/DirectXP1Fig/DataStructure.png" align="center" /></a> <figcaption>DirectX12 Basic Data Structure.</figcaption> </figure> <h2 id="initialize-graphics">Initialize Graphics</h2> <p>The DirectX12 Initialize can be divided into several stages.</p> <ul> <li>Debug Layer</li> <li>Graphice Device</li> <li>Synchronization Fence</li> <li>MSAA Level Query</li> <li>Command Object <ul> <li>Command Queue</li> <li>Command Allocator</li> <li>Command List</li> </ul> </li> <li>Swap Chain <ul> <li>Render Target View</li> <li>Depth Stencil View</li> </ul> </li> </ul> <h5 id="debug-layer">Debug Layer</h5> <p>We can active the d3d debug layer in the program. The d3d12 API is encapsulation, and we can not trace the information behand the API. Activating the debug layer is the key to fix bugs in a d3d12 program. We can catch the error information in the output window of Visual Studio.</p> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#if defined(DEBUG) || defined(_DEBUG) 
</span>	<span class="c1">// Enable the D3D12 debug layer.
</span>	<span class="p">{</span>
		<span class="n">Microsoft</span><span class="o">::</span><span class="n">WRL</span><span class="o">::</span><span class="n">ComPtr</span><span class="o">&lt;</span><span class="n">ID3D12Debug</span><span class="o">&gt;</span> <span class="n">debugController</span><span class="p">;</span>
		<span class="n">ThrowIfFailed</span><span class="p">(</span><span class="n">D3D12GetDebugInterface</span><span class="p">(</span><span class="n">IID_PPV_ARGS</span><span class="p">(</span><span class="o">&amp;</span><span class="n">debugController</span><span class="p">)));</span>
		<span class="n">debugController</span><span class="o">-&gt;</span><span class="n">EnableDebugLayer</span><span class="p">();</span>
	<span class="p">}</span>
<span class="cp">#endif</span></code></pre></figure> <h5 id="d3d12-factory">D3D12 Factory</h5> <p>Factory is the basis of the d3d12 program. The mother of all components you need.</p> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="n">ThrowIfFailed</span><span class="p">(</span><span class="n">CreateDXGIFactory1</span><span class="p">(</span><span class="n">IID_PPV_ARGS</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mdxgiFactory</span><span class="p">)));</span></code></pre></figure> <h5 id="d3d12-device">D3D12 Device</h5> <p>The device is the abstraction of your default GPU.</p> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp">	<span class="n">HRESULT</span> <span class="n">hardwareResult</span> <span class="o">=</span> <span class="n">D3D12CreateDevice</span><span class="p">(</span>
		<span class="nb">nullptr</span><span class="p">,</span>             <span class="c1">// default adapter
</span>		<span class="n">D3D_FEATURE_LEVEL_11_0</span><span class="p">,</span>
		<span class="n">IID_PPV_ARGS</span><span class="p">(</span><span class="o">&amp;</span><span class="n">md3dDevice</span><span class="p">));</span></code></pre></figure> <h5 id="create-fence">Create Fence</h5> <p>The fence is a tool that keeps synchronization between GPU and CPU.</p> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="n">ThrowIfFailed</span><span class="p">(</span><span class="n">md3dDevice</span><span class="o">-&gt;</span><span class="n">CreateFence</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">D3D12_FENCE_FLAG_NONE</span><span class="p">,</span>
		<span class="n">IID_PPV_ARGS</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mFence</span><span class="p">)));</span></code></pre></figure> <h5 id="create-command-queue">Create Command Queue</h5> <p>The command queue stores the commands which will send to GPU. There could have multi command lists, but only one command queue.</p> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp">	<span class="n">D3D12_COMMAND_QUEUE_DESC</span> <span class="n">queueDesc</span> <span class="o">=</span> <span class="p">{};</span>
	<span class="n">queueDesc</span><span class="p">.</span><span class="n">Type</span> <span class="o">=</span> <span class="n">D3D12_COMMAND_LIST_TYPE_DIRECT</span><span class="p">;</span>
	<span class="n">queueDesc</span><span class="p">.</span><span class="n">Flags</span> <span class="o">=</span> <span class="n">D3D12_COMMAND_QUEUE_FLAG_NONE</span><span class="p">;</span>
	<span class="n">ThrowIfFailed</span><span class="p">(</span><span class="n">md3dDevice</span><span class="o">-&gt;</span><span class="n">CreateCommandQueue</span><span class="p">(</span><span class="o">&amp;</span><span class="n">queueDesc</span><span class="p">,</span> <span class="n">IID_PPV_ARGS</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mCommandQueue</span><span class="p">)));</span></code></pre></figure> <h5 id="create-command-allocator">Create Command Allocator</h5> <p>Command Allocator is the conatiner of the command list.</p> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp">	<span class="n">ThrowIfFailed</span><span class="p">(</span><span class="n">md3dDevice</span><span class="o">-&gt;</span><span class="n">CreateCommandAllocator</span><span class="p">(</span>
		<span class="n">D3D12_COMMAND_LIST_TYPE_DIRECT</span><span class="p">,</span>
		<span class="n">IID_PPV_ARGS</span><span class="p">(</span><span class="n">mDirectCmdListAlloc</span><span class="p">.</span><span class="n">GetAddressOf</span><span class="p">())));</span></code></pre></figure> <h5 id="create-command-list">Create Command List</h5> <p>Command List is the function set of the graphics operations.</p> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="n">ThrowIfFailed</span><span class="p">(</span><span class="n">md3dDevice</span><span class="o">-&gt;</span><span class="n">CreateCommandList</span><span class="p">(</span>
		<span class="mi">0</span><span class="p">,</span>
		<span class="n">D3D12_COMMAND_LIST_TYPE_DIRECT</span><span class="p">,</span>
		<span class="n">mDirectCmdListAlloc</span><span class="p">.</span><span class="n">Get</span><span class="p">(),</span> <span class="c1">// Associated command allocator
</span>		<span class="nb">nullptr</span><span class="p">,</span>                   <span class="c1">// Initial PipelineStateObject
</span>		<span class="n">IID_PPV_ARGS</span><span class="p">(</span><span class="n">mCommandList</span><span class="p">.</span><span class="n">GetAddressOf</span><span class="p">())));</span></code></pre></figure> <h5 id="create-swap-chain">Create Swap Chain</h5> <p>Swap Chain is the basic structure to switch over the framebuffer present to the player.</p> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp">	<span class="n">mSwapChain</span><span class="p">.</span><span class="n">Reset</span><span class="p">();</span>

	<span class="n">DXGI_SWAP_CHAIN_DESC</span> <span class="n">sd</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">BufferDesc</span><span class="p">.</span><span class="n">Width</span> <span class="o">=</span> <span class="n">mClientWidth</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">BufferDesc</span><span class="p">.</span><span class="n">Height</span> <span class="o">=</span> <span class="n">d</span>
	
	<span class="n">d</span><span class="p">.</span><span class="n">BufferDesc</span><span class="p">.</span><span class="n">RefreshRate</span><span class="p">.</span><span class="n">Numerator</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">BufferDesc</span><span class="p">.</span><span class="n">RefreshRate</span><span class="p">.</span><span class="n">Denominator</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">BufferDesc</span><span class="p">.</span><span class="n">Format</span> <span class="o">=</span> <span class="n">mBackBufferFormat</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">BufferDesc</span><span class="p">.</span><span class="n">ScanlineOrdering</span> <span class="o">=</span> <span class="n">DXGI_MODE_SCANLINE_ORDER_UNSPECIFIED</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">BufferDesc</span><span class="p">.</span><span class="n">Scaling</span> <span class="o">=</span> <span class="n">DXGI_MODE_SCALING_UNSPECIFIED</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">SampleDesc</span><span class="p">.</span><span class="n">Count</span> <span class="o">=</span> <span class="n">m4xMsaaState</span> <span class="o">?</span> <span class="mi">4</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">SampleDesc</span><span class="p">.</span><span class="n">Quality</span> <span class="o">=</span> <span class="n">m4xMsaaState</span> <span class="o">?</span> <span class="p">(</span><span class="n">m4xMsaaQuality</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">BufferUsage</span> <span class="o">=</span> <span class="n">DXGI_USAGE_RENDER_TARGET_OUTPUT</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">BufferCount</span> <span class="o">=</span> <span class="n">SwapChainBufferCount</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">OutputWindow</span> <span class="o">=</span> <span class="n">m_mainWnd</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">Windowed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">SwapEffect</span> <span class="o">=</span> <span class="n">DXGI_SWAP_EFFECT_FLIP_DISCARD</span><span class="p">;</span>
	<span class="n">sd</span><span class="p">.</span><span class="n">Flags</span> <span class="o">=</span> <span class="n">DXGI_SWAP_CHAIN_FLAG_ALLOW_MODE_SWITCH</span><span class="p">;</span>

	<span class="c1">// Note: Swap chain uses queue to perform flush.
</span>	<span class="n">ThrowIfFailed</span><span class="p">(</span><span class="n">mdxgiFactory</span><span class="o">-&gt;</span><span class="n">CreateSwapChain</span><span class="p">(</span>
		<span class="n">mCommandQueue</span><span class="p">.</span><span class="n">Get</span><span class="p">(),</span>
		<span class="o">&amp;</span><span class="n">sd</span><span class="p">,</span>
		<span class="n">mSwapChain</span><span class="p">.</span><span class="n">GetAddressOf</span><span class="p">()));</span></code></pre></figure> <h5 id="create-descriptor-heap">Create Descriptor Heap</h5> <p>For the target of storing descriptor, we should build the heaps first. With the purpose of storing the render target and depth target, we should build the rtv, dsv heaps.</p> <figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="n">D3D12_DESCRIPTOR_HEAP_DESC</span> <span class="n">rtvHeapDesc</span><span class="p">;</span>
	<span class="n">rtvHeapDesc</span><span class="p">.</span><span class="n">NumDescriptors</span> <span class="o">=</span> <span class="n">SwapChainBufferCount</span><span class="p">;</span>
	<span class="n">rtvHeapDesc</span><span class="p">.</span><span class="n">Type</span> <span class="o">=</span> <span class="n">D3D12_DESCRIPTOR_HEAP_TYPE_RTV</span><span class="p">;</span>
	<span class="n">rtvHeapDesc</span><span class="p">.</span><span class="n">Flags</span> <span class="o">=</span> <span class="n">D3D12_DESCRIPTOR_HEAP_FLAG_NONE</span><span class="p">;</span>
	<span class="n">rtvHeapDesc</span><span class="p">.</span><span class="n">NodeMask</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">ThrowIfFailed</span><span class="p">(</span><span class="n">md3dDevice</span><span class="o">-&gt;</span><span class="n">CreateDescriptorHeap</span><span class="p">(</span>
		<span class="o">&amp;</span><span class="n">rtvHeapDesc</span><span class="p">,</span> <span class="n">IID_PPV_ARGS</span><span class="p">(</span><span class="n">mRtvHeap</span><span class="p">.</span><span class="n">GetAddressOf</span><span class="p">())));</span>

	<span class="n">D3D12_DESCRIPTOR_HEAP_DESC</span> <span class="n">dsvHeapDesc</span><span class="p">;</span>
	<span class="n">dsvHeapDesc</span><span class="p">.</span><span class="n">NumDescriptors</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">dsvHeapDesc</span><span class="p">.</span><span class="n">Type</span> <span class="o">=</span> <span class="n">D3D12_DESCRIPTOR_HEAP_TYPE_DSV</span><span class="p">;</span>
	<span class="n">dsvHeapDesc</span><span class="p">.</span><span class="n">Flags</span> <span class="o">=</span> <span class="n">D3D12_DESCRIPTOR_HEAP_FLAG_NONE</span><span class="p">;</span>
	<span class="n">dsvHeapDesc</span><span class="p">.</span><span class="n">NodeMask</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">ThrowIfFailed</span><span class="p">(</span><span class="n">md3dDevice</span><span class="o">-&gt;</span><span class="n">CreateDescriptorHeap</span><span class="p">(</span>
		<span class="o">&amp;</span><span class="n">dsvHeapDesc</span><span class="p">,</span> <span class="n">IID_PPV_ARGS</span><span class="p">(</span><span class="n">mDsvHeap</span><span class="p">.</span><span class="n">GetAddressOf</span><span class="p">())));</span></code></pre></figure> <h3 id="create-descriptor-heap-1">Create Descriptor Heap</h3> <h2 id="window-on-resize">Window On Resize</h2> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://127.0.0.1:4000//tags/#Render" title="Pages tagged Render" class="tag"><span class="term">Render</span></a><a href="http://127.0.0.1:4000//tags/#DirectX12" title="Pages tagged DirectX12" class="tag"><span class="term">DirectX12</span></a><a href="http://127.0.0.1:4000//tags/#Graphics" title="Pages tagged Graphics" class="tag"><span class="term">Graphics</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1:4000//DirectX12-Basic-Frame-Part1/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=http://127.0.0.1:4000//DirectX12-Basic-Frame-Part1/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://127.0.0.1:4000//DirectX12-Basic-Frame-Part1/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- JS --> <script src="http://127.0.0.1:4000//assets/js/jquery-1.12.0.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.dlmenu.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.goup.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.magnific-popup.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.fitvid.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'taylantatli'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
